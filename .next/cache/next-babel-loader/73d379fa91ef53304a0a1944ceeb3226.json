{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/abugra/Desktop/MeetingPlanner-client/pages/plan/[itemID].js\";\nvar __jsx = React.createElement;\n//import { useRouter } from 'next/router'; // not usable for class components, we can try to use withRouter as alternative\nimport { withRouter } from 'next/router';\nimport React, { Component } from 'react';\nimport Layout from '../../components/Layout';\nimport axiosInstance from '../../config';\n\nvar ItemDetailsPage = /*#__PURE__*/function (_Component) {\n  _inherits(ItemDetailsPage, _Component);\n\n  function ItemDetailsPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ItemDetailsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ItemDetailsPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      partipicantName: '',\n      itemDetails: '',\n      optionsSelected: '',\n      itemID: '5e77a'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlan\", function _callee() {\n      var itemID, doc;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              itemID = _this.state.itemID;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axiosInstance.get('api/freeone', {\n                params: {\n                  itemID: itemID\n                }\n              }));\n\n            case 3:\n              doc = _context.sent;\n\n              _this.setState({\n                itemDetails: doc.data\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"postParticipant\", function _callee2() {\n      var _this$state, partipicantName, optionsSelected, itemID, doc;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$state = _this.state, partipicantName = _this$state.partipicantName, optionsSelected = _this$state.optionsSelected, itemID = _this$state.itemID;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(axiosInstance.post('api/participant', {\n                partipicantName: partipicantName,\n                optionsSelected: optionsSelected\n              }, {\n                params: {\n                  itemID: itemID\n                }\n              }));\n\n            case 3:\n              doc = _context2.sent;\n              // const doc = await axiosInstance.post('api/participant', { params: { itemID } });\n              console.log(doc);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkboxTest\", function _callee3(e) {\n      var optionsSelected, tempOptionsSelected, check;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              optionsSelected = _this.state.optionsSelected;\n\n              if (!e.target.checked) {\n                _context3.next = 4;\n                break;\n              }\n\n              _this.setState({\n                optionsSelected: [].concat(_toConsumableArray(optionsSelected), [e.target.id])\n              });\n\n              return _context3.abrupt(\"return\");\n\n            case 4:\n              tempOptionsSelected = _toConsumableArray(optionsSelected);\n              check = tempOptionsSelected.indexOf(e.target.id);\n              if (check > -1) tempOptionsSelected.splice(check, 1);\n\n              _this.setState({\n                optionsSelected: tempOptionsSelected\n              });\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ItemDetailsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPlan();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var itemDetails = this.state.itemDetails;\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"column is-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"is-fullwidth\",\n        style: {\n          padding: '.5rem',\n          backgroundColor: '#C8E4FF'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        onClick: function onClick() {\n          console.log(_this2.state.optionsSelected);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Poll by \", ' ', \" \", __jsx(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \" \", itemDetails.nameGenerater, \" \"), \" \"), \" \"), \" \", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"column is-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"title has-text-info has-text-weight-normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \" \", itemDetails.boardTitle, \" \"), \" \", __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \" \", itemDetails.description ? itemDetails.description : \"Please indicate when you are available. Then click 'Save'.\", \" \"), \" \", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), __jsx(\"table\", {\n        className: \"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, __jsx(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        style: {\n          border: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), \" \", itemDetails.possibleDates ? itemDetails.possibleDates.map(function (element, index) {\n        return __jsx(\"th\", {\n          className: \"has-background-grey-lighter has-text-centered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \" \", element, \" \");\n      }) : null, \" \"), \" \", __jsx(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        className: \"be-first\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, __jsx(\"td\", {\n        className: \"has-background-primary has-text-white\",\n        colSpan: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Be the first to vote in this poll!\"), \" \"), \" \", __jsx(\"tr\", {\n        style: {\n          backgroundColor: '#C8E4FF'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, __jsx(\"td\", {\n        style: {\n          borderColor: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        \"class\": \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        \"class\": \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        \"class\": \"input is-primary\",\n        type: \"text\",\n        placeholder: \"Your name\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            partipicantName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), \" \"), \" \"), \" \"), \" \", itemDetails.possibleDates ? itemDetails.possibleDates.map(function (element, index) {\n        return __jsx(\"td\", {\n          style: {\n            borderColor: 'white'\n          },\n          className: \"has-text-centered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, __jsx(\"label\", {\n          \"class\": \"checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, __jsx(\"input\", {\n          type: \"checkbox\",\n          id: index,\n          onChange: _this2.checkboxTest,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }), \" \"), \" \");\n      }) : null, \" \"), \" \"), \" \"), \" \", __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        className: \"button is-link has-text-right\",\n        onClick: this.postParticipant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Save \"), \" \"), \" \", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      })), \" \", __jsx(\"div\", {\n        className: \"column is-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"column is-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \" x \"), \" \"), \" \"), \" \", __jsx(\"div\", {\n        className: \"column is-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      })), \" \"), \" \");\n    }\n  }]);\n\n  return ItemDetailsPage;\n}(Component); //export default ItemDetailsPage;\n// 5e708dce790a493928aac6f0\n\n\nexport { ItemDetailsPage as default };","map":{"version":3,"sources":["/home/abugra/Desktop/MeetingPlanner-client/pages/plan/[itemID].js"],"names":["withRouter","React","Component","Layout","axiosInstance","ItemDetailsPage","partipicantName","itemDetails","optionsSelected","itemID","state","get","params","doc","setState","data","post","console","log","e","target","checked","id","tempOptionsSelected","check","indexOf","splice","getPlan","padding","backgroundColor","nameGenerater","boardTitle","description","border","possibleDates","map","element","index","borderColor","value","checkboxTest","postParticipant"],"mappings":";;;;;;;;;;;AAAA;AACA,SAASA,UAAT,QAA2B,aAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,aAAP,MAA0B,cAA1B;;IAEqBC,e;;;;;;;;;;;;;;;;4DACT;AACJC,MAAAA,eAAe,EAAE,EADb;AAEJC,MAAAA,WAAW,EAAE,EAFT;AAGJC,MAAAA,eAAe,EAAE,EAHb;AAIJC,MAAAA,MAAM,EAAE;AAJJ,K;;8DAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AACEA,cAAAA,MADF,GACa,MAAKC,KADlB,CACED,MADF;AAAA;AAAA,+CAEYL,aAAa,CAACO,GAAd,CAAkB,aAAlB,EAAiC;AAC/CC,gBAAAA,MAAM,EAAE;AAAEH,kBAAAA,MAAM,EAANA;AAAF;AADuC,eAAjC,CAFZ;;AAAA;AAEAI,cAAAA,GAFA;;AAKN,oBAAKC,QAAL,CAAc;AAAEP,gBAAAA,WAAW,EAAEM,GAAG,CAACE;AAAnB,eAAd;;AALM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;sEAQQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BACuC,MAAKL,KAD5C,EACNJ,eADM,eACNA,eADM,EACWE,eADX,eACWA,eADX,EAC4BC,MAD5B,eAC4BA,MAD5B;AAAA;AAAA,+CAEIL,aAAa,CAACY,IAAd,CACd,iBADc,EACK;AAAEV,gBAAAA,eAAe,EAAfA,eAAF;AAAmBE,gBAAAA,eAAe,EAAfA;AAAnB,eADL,EAC2C;AAAEI,gBAAAA,MAAM,EAAE;AAAEH,kBAAAA,MAAM,EAANA;AAAF;AAAV,eAD3C,CAFJ;;AAAA;AAERI,cAAAA,GAFQ;AAKd;AACAI,cAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;;AANc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;mEASH,kBAAMM,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACHX,cAAAA,eADG,GACiB,MAAKE,KADtB,CACHF,eADG;;AAAA,mBAEPW,CAAC,CAACC,MAAF,CAASC,OAFF;AAAA;AAAA;AAAA;;AAGP,oBAAKP,QAAL,CAAc;AACVN,gBAAAA,eAAe,+BAAMA,eAAN,IAAuBW,CAAC,CAACC,MAAF,CAASE,EAAhC;AADL,eAAd;;AAHO;;AAAA;AAQPC,cAAAA,mBARO,sBAQmBf,eARnB;AASLgB,cAAAA,KATK,GASGD,mBAAmB,CAACE,OAApB,CAA4BN,CAAC,CAACC,MAAF,CAASE,EAArC,CATH;AAUX,kBAAIE,KAAK,GAAG,CAAC,CAAb,EAAgBD,mBAAmB,CAACG,MAApB,CAA2BF,KAA3B,EAAkC,CAAlC;;AAChB,oBAAKV,QAAL,CAAc;AAAEN,gBAAAA,eAAe,EAAEe;AAAnB,eAAd;;AAXW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;wCArBK;AAChB,WAAKI,OAAL;AACH;;;6BAgCQ;AAAA;;AAAA,UACGpB,WADH,GACmB,KAAKG,KADxB,CACGH,WADH;AAEL,aAAS,MACL,MADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEL;AACI,QAAA,SAAS,EAAG,WADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAIA;AACI,QAAA,SAAS,EAAG,SADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACI,QAAA,SAAS,EAAG,aADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAIA;AACI,QAAA,SAAS,EAAG,QADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACI,QAAA,SAAS,EAAG,cADhB;AAEA,QAAA,KAAK,EACD;AACIqB,UAAAA,OAAO,EAAE,OADb;AAEIC,UAAAA,eAAe,EAAE;AAFrB,SAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQA;AACE,QAAA,OAAO,EACL,mBAAM;AACFZ,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACR,KAAL,CAAWF,eAAvB;AACH,SAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAMU,GANV,OAMgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACLD,WAAW,CAACuB,aADP,MANhB,MARA,MAFA,OAmBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBN,EAqBA;AACI,QAAA,SAAS,EAAG,SADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACI,QAAA,SAAS,EAAG,aADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACE,QAAA,SAAS,EAAG,4CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAC+DvB,WAAW,CAACwB,UAD3E,MAFA,OAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAEAxB,WAAW,CAACyB,WAAZ,GACAzB,WAAW,CAACyB,WADZ,GAEI,4DAJJ,MAJJ,OAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVJ,EAYA;AACM,QAAA,SAAS,EAAG,kEADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACG,QAAA,KAAK,EACJ;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,OAQI1B,WAAW,CAAC2B,aAAZ,GACI3B,WAAW,CAAC2B,aAAZ,CAA0BC,GAA1B,CAA8B,UAACC,OAAD,EAAUC,KAAV;AAAA,eAAsB;AAC7C,UAAA,SAAS,EAAG,+CADiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACmBD,OADnB,MAAtB;AAAA,OAA9B,CADJ,GAKI,IAbR,MAFA,OAiBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAER;AACG,QAAA,SAAS,EAAG,UADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACG,QAAA,SAAS,EAAG,uCADf;AAEA,QAAA,OAAO,EAAG,MAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAFA,MAFQ,OAUH;AACF,QAAA,KAAK,EACJ;AAAEP,UAAAA,eAAe,EAAE;AAAnB,SAFC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGL;AACG,QAAA,KAAK,EACJ;AAAES,UAAAA,WAAW,EAAE;AAAf,SAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGA;AACI,iBAAQ,OADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACI,iBAAQ,SADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AACM,iBAAQ,kBADd;AAEA,QAAA,IAAI,EAAG,MAFP;AAGA,QAAA,WAAW,EAAG,WAHd;AAIA,QAAA,QAAQ,EACJ,kBAAAnB,CAAC,EAAI;AACD,UAAA,MAAI,CAACL,QAAL,CAAc;AACVR,YAAAA,eAAe,EAAEa,CAAC,CAACC,MAAF,CAASmB;AADhB,WAAd;AAGH,SATL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,MAFA,MAHA,MAHK,OA2BDhC,WAAW,CAAC2B,aAAZ,GACI3B,WAAW,CAAC2B,aAAZ,CAA0BC,GAA1B,CAA8B,UAACC,OAAD,EAAUC,KAAV;AAAA,eAAsB;AAC7C,UAAA,KAAK,EACJ;AACIC,YAAAA,WAAW,EAAE;AADjB,WAF4C;AAMhD,UAAA,SAAS,EAAG,mBANoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOhD;AACM,mBAAQ,UADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEA;AACM,UAAA,IAAI,EAAG,UADb;AAEA,UAAA,EAAE,EAAKD,KAFP;AAGA,UAAA,QAAQ,EAAK,MAAI,CAACG,YAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFA,MAPgD,MAAtB;AAAA,OAA9B,CADJ,GAkBI,IA7CH,MAVG,MAjBR,MAZA,OAwFQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAER;AACE,QAAA,SAAS,EAAG,+BADd;AAEA,QAAA,OAAO,EAAK,KAAKC,eAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFQ,MAxFR,OA+FI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/FJ,CAFA,OAoGM;AACF,QAAA,SAAS,EAAG,aADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApGN,EAsGA;AACI,QAAA,SAAS,EAAG,aADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAtGA,MArBA,MAJA,OAkIM;AACF,QAAA,SAAS,EAAG,aADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlIN,CAJA,MAFK,MAAT;AA+IH;;;;EA3LwCvC,S,GA6L7C;AACA;;;SA9LqBG,e","sourcesContent":["//import { useRouter } from 'next/router'; // not usable for class components, we can try to use withRouter as alternative\nimport { withRouter } from 'next/router';\nimport React, { Component } from 'react';\nimport Layout from '../../components/Layout';\nimport axiosInstance from '../../config';\n\nexport default class ItemDetailsPage extends Component {\n    state = {\n        partipicantName: '',\n        itemDetails: '',\n        optionsSelected: '',\n        itemID: '5e77a',\n    };\n\n    componentDidMount() {\n        this.getPlan();\n    }\n\n    getPlan = async() => {\n        const { itemID } = this.state;\n        const doc = await axiosInstance.get('api/freeone', {\n            params: { itemID },\n        });\n        this.setState({ itemDetails: doc.data });\n    };\n\n    postParticipant = async() => {\n        const { partipicantName, optionsSelected, itemID } = this.state;\n        const doc = await axiosInstance.post(\n            'api/participant', { partipicantName, optionsSelected }, { params: { itemID } }\n        );\n        // const doc = await axiosInstance.post('api/participant', { params: { itemID } });\n        console.log(doc);\n    };\n\n    checkboxTest = async e => {\n        const { optionsSelected } = this.state;\n        if (e.target.checked) {\n            this.setState({\n                optionsSelected: [...optionsSelected, e.target.id],\n            });\n            return;\n        }\n        let tempOptionsSelected = [...optionsSelected];\n        const check = tempOptionsSelected.indexOf(e.target.id);\n        if (check > -1) tempOptionsSelected.splice(check, 1);\n        this.setState({ optionsSelected: tempOptionsSelected });\n    };\n    render() {\n        const { itemDetails } = this.state;\n        return ( <\n            Layout >\n            <\n            div className = \"container\" >\n            <\n            br / >\n            <\n            div className = \"columns\" >\n            <\n            div className = \"column is-1\" / >\n            <\n            div className = \"column\" >\n            <\n            div className = \"is-fullwidth\"\n            style = {\n                {\n                    padding: '.5rem',\n                    backgroundColor: '#C8E4FF',\n                }\n            } >\n            <\n            p onClick = {\n                () => {\n                    console.log(this.state.optionsSelected);\n                }\n            } >\n            Poll by { ' ' } <\n            strong > { itemDetails.nameGenerater } < /strong> <\n            /p> <\n            /div> <\n            br / >\n            <\n            div className = \"columns\" >\n            <\n            div className = \"column is-5\" >\n            <\n            p className = \"title has-text-info has-text-weight-normal\" > { itemDetails.boardTitle } <\n            /p> <\n            p > {\n                itemDetails.description ?\n                itemDetails.description :\n                    \"Please indicate when you are available. Then click 'Save'.\"\n            } <\n            /p> <\n            br / >\n            <\n            table className = \"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\" >\n            <\n            thead >\n            <\n            th style = {\n                { border: 'none' } }\n            />\n\n            { /* Put possible dates as table headers */ } {\n                itemDetails.possibleDates ?\n                    itemDetails.possibleDates.map((element, index) => ( <\n                        th className = \"has-background-grey-lighter has-text-centered\" > { element } <\n                        /th>\n                    )) :\n                    null\n            } <\n            /thead> <\n            tbody >\n            <\n            tr className = \"be-first\" >\n            <\n            td className = \"has-background-primary has-text-white\"\n            colSpan = \"100%\" >\n            Be the first to vote in this poll!\n            <\n            /td> <\n            /tr> <\n            tr style = {\n                { backgroundColor: '#C8E4FF' } } >\n            <\n            td style = {\n                { borderColor: 'white' } } >\n            <\n            div class = \"field\" >\n            <\n            div class = \"control\" >\n            <\n            input class = \"input is-primary\"\n            type = \"text\"\n            placeholder = \"Your name\"\n            onChange = {\n                e => {\n                    this.setState({\n                        partipicantName: e.target.value,\n                    });\n                }\n            }\n            /> <\n            /div> <\n            /div> <\n            /td>\n\n            { /* Columns which has checkbox to check possible dates*/ } {\n                itemDetails.possibleDates ?\n                    itemDetails.possibleDates.map((element, index) => ( <\n                        td style = {\n                            {\n                                borderColor: 'white',\n                            }\n                        }\n                        className = \"has-text-centered\" >\n                        <\n                        label class = \"checkbox\" >\n                        <\n                        input type = \"checkbox\"\n                        id = { index }\n                        onChange = { this.checkboxTest }\n                        /> <\n                        /label> <\n                        /td>\n                    )) :\n                    null\n            } <\n            /tr> <\n            /tbody> <\n            /table> <\n            p >\n            <\n            a className = \"button is-link has-text-right\"\n            onClick = { this.postParticipant } >\n            Save <\n            /a> <\n            /p> <\n            br / >\n            <\n            /div> <\n            div className = \"column is-5\" / >\n            <\n            div className = \"column is-2\" > x < /div> <\n            /div> <\n            /div> <\n            div className = \"column is-1\" / >\n            <\n            /div> <\n            /div> <\n            /Layout>\n        );\n    }\n}\n//export default ItemDetailsPage;\n// 5e708dce790a493928aac6f0"]},"metadata":{},"sourceType":"module"}